<template>
  <div class="fr-container--md fr-py-6w fr-pb-8w">
    <header class="hero-section fr-mb-6w fr-p-4w">
      <h1 class="fr-h1 fr-mb-3w">Comprendre la procédure administrative en cas de dépôt sauvage</h1>
      <p class="fr-text fr-text--lead">
        Lorsqu'une commune constate un dépôt sauvage, elle dispose de
        <strong>deux leviers d'action</strong> :
      </p>
      <ol class="fr-pl-4w fr-mb-2w fr-text">
        <li>
          <strong>Déposer plainte</strong> pour initier une procédure
          <strong>judiciaire</strong> auprès de la police ou de la gendarmerie ;
        </li>
        <li>
          <strong>Mettre en œuvre une procédure administrative</strong> sur le fondement de
          l'article <strong>L.541-3 du Code de l'environnement</strong>.
        </li>
      </ol>
      <p class="fr-text fr-mb-3w">
        <span class="fr-icon-arrow-right-line fr-mr-1w" aria-hidden="true"></span>
        <span>
          La <strong>procédure administrative</strong> permet de sanctionner plus efficacement les
          <strong>dépôts sauvages du quotidien</strong>, avec une amende pouvant aller jusqu'à
          <strong>15&nbsp;000&nbsp;€</strong>, <strong>recouvrée au profit de la mairie</strong>.
        </span>
      </p>
      <DsfrNotice
        class="fr-mb-2w"
        title="Amende jusqu'à 15 000 €"
        content="Amende jusqu'à 15 000 € recouvrée au profit de la mairie."
      />
    </header>

    <section class="fr-mb-7w">
      <h2 class="fr-h3 fr-mb-3w">
        <span class="fr-icon-user-fill fr-mr-1w" aria-hidden="true"></span>
        <span>Qui peut engager la procédure&nbsp;?</span>
      </h2>
      <div class="fr-grid-row fr-grid-row--gutters">
        <div class="fr-col-12 fr-col-md-4">
          <DsfrCard
            no-arrow
            title="Le maire"
            description="Article L.541-3 du Code de l'environnement, article L.2212-2 du CGCT."
            class="fr-card--shadow"
          />
        </div>
        <div class="fr-col-12 fr-col-md-4">
          <DsfrCard
            no-arrow
            title="Adjoints ou conseillers municipaux"
            description="Ayant reçu délégation – article L.2122-18 du CGCT."
            class="fr-card--shadow"
          />
        </div>
        <div class="fr-col-12 fr-col-md-4">
          <DsfrCard
            no-arrow
            title="Président de l'EPCI"
            description="En cas de transfert de compétence – article L.5211-9-2 du CGCT."
            class="fr-card--shadow"
          />
        </div>
      </div>
    </section>

    <section class="fr-mb-7w">
      <article class="fr-card fr-card--shadow fr-card--no-arrow fr-p-4w fr-mb-6w">
        <div class="fr-card__body">
          <h3 class="fr-h4 fr-mb-3w fr-display-flex fr-flex-wrap fr-gap-1w">
            <DsfrBadge class="fr-mr-1w" label="Étape 1" type="info" :small="false" />
            <span>Constatation du dépôt</span>
          </h3>
          <div class="fr-grid-row fr-grid-row--gutters">
            <div class="fr-col-12 fr-col-md-6">
              <h4 class="fr-h5 fr-mb-1w">Qui peut constater&nbsp;?</h4>
              <ul class="fr-text fr-pl-2w">
                <li>Le maire, ses adjoints ou conseillers délégués</li>
                <li>Les policiers municipaux ou gardes champêtres</li>
                <li>Les agents commissionnés et/ou assermentés de la commune ou de l'EPCI</li>
              </ul>
            </div>
            <div class="fr-col-12 fr-col-md-6">
              <h4 class="fr-h5 fr-mb-1w">Comment&nbsp;?</h4>
              <ul class="fr-text fr-pl-2w">
                <li>
                  Rédaction d'un <strong>rapport de constatation</strong> à l'aide de
                  <em>Protect'Envi</em>, en mobilité ou au bureau Rédaction d'un
                </li>
                <li>Photos, localisation précise, description du dépôt</li>
              </ul>
            </div>
          </div>
          <DsfrCallout
            class="fr-mt-4w"
            title="Retrait immédiat (facultatif mais recommandé)"
            content=""
          >
            <p class="fr-text fr-mb-0">
              Il est conseillé de retirer rapidement le dépôt pour
              <strong>éviter son extension</strong> et
              <strong>limiter l'impact environnemental</strong>. Le retrait peut être effectué par
              la commune ou le propriétaire du terrain.
            </p>
          </DsfrCallout>
        </div>
      </article>

      <article class="fr-card fr-card--shadow fr-card--no-arrow fr-p-4w fr-mb-6w">
        <div class="fr-card__body">
          <h3 class="fr-h4 fr-mb-3w fr-display-flex fr-flex-wrap fr-gap-1w">
            <DsfrBadge class="fr-mr-1w" label="Étape 2" type="info" :small="false" />
            <span>Recherche du responsable</span>
          </h3>
          <p class="fr-text">
            Le responsable est le <strong>producteur ou détenteur des déchets</strong> (article
            L.541-2 du Code de l'environnement).
          </p>
          <h5 class="fr-h6 fr-mb-1w">Il peut s'agir :</h5>
          <ul class="fr-text fr-pl-2w">
            <li>De l'auteur du dépôt ;</li>
            <li>Du propriétaire ou détenteur des déchets ;</li>
            <li>Du propriétaire du terrain, s'il fait preuve de négligence.</li>
          </ul>
          <p class="fr-text fr-mt-2w">
            <strong>Plusieurs responsables peuvent être poursuivis individuellement.</strong>
          </p>
          <div class="fr-accordions-group fr-mt-3w">
            <section class="fr-accordion">
              <h4 class="fr-accordion__title">
                <button
                  class="fr-accordion__btn"
                  type="button"
                  :aria-expanded="accordions.moyens"
                  aria-controls="accordion-moyens-identification"
                  @click="toggleAccordion('moyens')"
                >
                  Moyens d'identification
                </button>
              </h4>
              <div
                id="accordion-moyens-identification"
                class="fr-collapse"
                :class="{ 'fr-collapse--expanded': accordions.moyens }"
                :style="accordions.moyens ? 'max-height: none;' : undefined"
              >
                <div class="fr-collapse__body">
                  <ul class="fr-text fr-pl-2w fr-mb-0 fr-mt-0">
                    <li>Indices trouvés dans le dépôt (courriers, colis, etc.) ;</li>
                    <li>Photographies, témoignages, vidéo-surveillance (agents habilités) ;</li>
                    <li>Enquête judiciaire si nécessaire (police ou gendarmerie).</li>
                  </ul>
                </div>
              </div>
            </section>

            <section class="fr-accordion fr-mt-2w">
              <h4 class="fr-accordion__title">
                <button
                  class="fr-accordion__btn"
                  type="button"
                  :aria-expanded="accordions.exemple"
                  aria-controls="accordion-exemple"
                  @click="toggleAccordion('exemple')"
                >
                  Exemple de situation
                </button>
              </h4>
              <div
                id="accordion-exemple"
                class="fr-collapse"
                :class="{ 'fr-collapse--expanded': accordions.exemple }"
                :style="accordions.exemple ? 'max-height: none;' : undefined"
              >
                <div class="fr-collapse__body">
                  <p class="fr-text fr-mb-2w">
                    Un <strong>particulier</strong> confie ses déchets à un
                    <strong>transporteur</strong> pour qu’il les conduise à la déchetterie. En
                    réalité, le <strong>transporteur</strong> abandonne ces déchets dans un champ
                    appartenant au <strong>propriétaire du terrain</strong>.
                  </p>
                  <ul class="fr-text fr-pl-2w fr-mb-0">
                    <li>
                      Le <strong>particulier</strong> est <em>la personne productrice</em> des
                      déchets et donc responsable de leur gestion.
                    </li>
                    <li>
                      Le <strong>transporteur</strong> est <em>l’auteur</em> du dépôt sauvage.
                    </li>
                    <li>
                      Le <strong>propriétaire du terrain</strong> est <em>la victime</em> du dépôt,
                      mais sa responsabilité pourrait également être retenue s’il ne prend pas les
                      mesures nécessaires pour faire retirer les déchets.
                    </li>
                  </ul>
                </div>
              </div>
            </section>
          </div>
        </div>
      </article>

      <article class="fr-card fr-card--shadow fr-card--no-arrow fr-p-4w fr-mb-6w">
        <div class="fr-card__body">
          <h3 class="fr-h4 fr-mb-3w fr-display-flex fr-flex-wrap fr-gap-1w">
            <DsfrBadge class="fr-mr-1w" label="Étape 3" type="info" :small="false" />
            <span>Lettre d'information au responsable présumé</span>
          </h3>
          <h4 class="fr-h5 fr-mb-1w">Qui&nbsp;?</h4>
          <p class="fr-text">L'autorité titulaire du pouvoir de police administrative.</p>
          <h4 class="fr-h5 fr-mb-1w">Comment&nbsp;?</h4>
          <ul class="fr-text fr-pl-2w">
            <li>Génération automatique via <em>Protect'Envi</em> ;</li>
            <li>
              Envoi <strong>recommandé avec accusé de réception</strong> ou
              <strong>remise en mains propres</strong> ;
            </li>
            <li>Délai minimum de <strong>10 jours</strong> pour le contradictoire.</li>
          </ul>
          <p class="fr-text fr-mb-0">
            Si le responsable désigne un tiers, une <strong>nouvelle lettre</strong> est envoyée à
            ce dernier selon la même procédure.
          </p>
        </div>
      </article>

      <article class="fr-card fr-card--shadow fr-card--no-arrow fr-p-4w fr-mb-6w">
        <div class="fr-card__body">
          <h3 class="fr-h4 fr-mb-3w fr-display-flex fr-flex-wrap fr-gap-1w">
            <DsfrBadge class="fr-mr-1w" label="Étape 4" type="info" :small="false" />
            <span>Amende administrative</span>
          </h3>
          <h4 class="fr-h5 fr-mb-1w">Qui la prononce&nbsp;?</h4>
          <p class="fr-text">
            Le maire (ou autorité déléguée) à l'issue du délai de contradictoire.
          </p>
          <h4 class="fr-h5 fr-mb-1w">Montant maximum</h4>
          <p class="fr-text fr-mb-2w"><strong>15&nbsp;000&nbsp;€</strong> par responsable.</p>
          <h4 class="fr-h5 fr-mb-1w">Critères de fixation</h4>
          <ul class="fr-text fr-pl-2w">
            <li>Gravité de l'infraction ;</li>
            <li>Proportionnalité ;</li>
            <li>Coût du nettoyage pour la commune.</li>
          </ul>
          <h4 class="fr-h5 fr-mb-1w">Procédure</h4>
          <ul class="fr-text fr-pl-2w">
            <li>Décision par <strong>arrêté municipal ou présidentiel</strong> ;</li>
            <li>Transmission au <strong>Trésor public</strong> pour recouvrement ;</li>
            <li>Sommes reversées <strong>intégralement à la collectivité</strong>.</li>
          </ul>
          <h4 class="fr-h5 fr-mb-1w">Recours possible</h4>
          <p class="fr-text fr-mb-0">
            Le responsable peut contester devant le <strong>tribunal administratif</strong>.
          </p>
        </div>
      </article>

      <article class="fr-card fr-card--shadow fr-card--no-arrow fr-p-4w">
        <div class="fr-card__body">
          <h3 class="fr-h4 fr-mb-3w fr-display-flex fr-flex-wrap fr-gap-1w">
            <DsfrBadge class="fr-mr-1w" label="Étape 5" type="info" :small="false" />
            <span>Mise en demeure de nettoyage</span>
          </h3>
          <p class="fr-text">Si le dépôt n'est pas retiré :</p>
          <ul class="fr-text fr-pl-2w">
            <li>
              L'autorité peut <strong>mettre en demeure</strong> le responsable de le retirer dans
              un délai donné ;
            </li>
            <li>
              En cas de non-respect, elle peut prononcer une <strong>nouvelle amende</strong> allant
              jusqu'à <strong>150&nbsp;000&nbsp;€</strong>
              (article L.541-3 du Code de l'environnement).
            </li>
          </ul>
        </div>
      </article>
    </section>

    <section class="fr-my-8w">
      <h2 class="fr-h3 fr-mb-3w">
        <span class="fr-icon-scales-2-line fr-mr-1w" aria-hidden="true"></span>
        <span>Textes de loi et références</span>
      </h2>
      <ul class="fr-text fr-pl-2w fr-mb-0">
        <li>
          <a
            href="https://www.legifrance.gouv.fr/codes/id/LEGIARTI000006584365/1990-09-30"
            target="_blank"
            rel="noreferrer noopener"
          >
            Article L.541-3 du Code de l'environnement
          </a>
        </li>
        <li>
          <a
            href="https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000006743353"
            target="_blank"
            rel="noreferrer noopener"
          >
            Article L.541-2 du Code de l'environnement
          </a>
        </li>
        <li>
          <a
            href="https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000037703945"
            target="_blank"
            rel="noreferrer noopener"
          >
            Article L.2212-2 du Code général des collectivités territoriales
          </a>
        </li>
        <li>
          <a
            href="https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000031104930"
            target="_blank"
            rel="noreferrer noopener"
          >
            Article L.2122-18 du Code général des collectivités territoriales
          </a>
        </li>
        <li>
          <a
            href="https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000048850168"
            target="_blank"
            rel="noreferrer noopener"
          >
            Article L.5211-9-2 du Code général des collectivités territoriales
          </a>
        </li>
      </ul>
    </section>

    <section>
      <h2 class="fr-h3 fr-mb-3w">
        <span class="fr-icon-flag-fill fr-mr-1w" aria-hidden="true"></span>
        <span>À retenir</span>
      </h2>
      <DsfrCallout class="fr-mb-0" content="">
        <ul class="fr-text fr-pl-2w fr-mb-0">
          <li>La procédure administrative est <strong>simple, rapide et efficace</strong> ;</li>
          <li>Elle évite le recours systématique au judiciaire ;</li>
          <li>
            Les amendes sont <strong>perçues par la commune</strong>, favorisant une
            <strong>action locale directe contre les dépôts sauvages</strong> ;
          </li>
          <li>
            L'outil <em>Protect'Envi</em> facilite la <strong>traçabilité</strong> et la
            <strong>production automatique des documents officiels</strong>
            (rapport, lettres, arrêtés, etc.).
          </li>
        </ul>
      </DsfrCallout>
    </section>
  </div>
</template>

<script setup lang="ts">
import { DsfrBadge, DsfrCallout, DsfrCard, DsfrNotice } from '@gouvminint/vue-dsfr'
import { reactive } from 'vue'

const accordions = reactive({
  moyens: true,
  exemple: true,
})

const toggleAccordion = (key: keyof typeof accordions) => {
  accordions[key] = !accordions[key]
}
</script>
<style scoped>
.hero-section {
  background-color: #f5f5fe;
}
</style>
